@using Newtonsoft.Json




<link rel="stylesheet" href="https://kendo.cdn.telerik.com/2018.3.1017/styles/kendo.common-material.min.css" />
<link rel="stylesheet" href="https://kendo.cdn.telerik.com/2018.3.1017/styles/kendo.material.min.css" />
<link rel="stylesheet" href="https://kendo.cdn.telerik.com/2018.3.1017/styles/kendo.material.mobile.min.css" />
<script src="https://kendo.cdn.telerik.com/2018.3.1017/js/jquery.min.js"></script>
<script src="https://kendo.cdn.telerik.com/2018.3.1017/js/kendo.all.min.js"></script>



<!-- Modal -->
<div class="modal fade" id="htmlSourceModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">HTML Source</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <textarea id="ModalHtml" class="form-control" style="background-color:#ffffff">

</textarea>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button onclick="SaveHtmlSource()" type="button" class="btn btn-primary">Paste Html</button>
            </div>
        </div>
    </div>
</div>

<div>
    <button type="button" class="btn btn-primary" id="SourceButton" onclick="GetHtmlSource()">
        Source
    </button>
</div>
<br />

<div class="col-lg-12">
    <div id="example">
        <textarea id="editor" style="width:100%; height:1000px"> </textarea>
    </div>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        $("#editor").kendoEditor(
            {
                tools: [

                    "bold",
                    "italic",
                    "underline",
                    "strikethrough",
                    "justifyLeft",
                    "justifyCenter",
                    "justifyRight",
                    "justifyFull",
                    "insertUnorderedList",
                    "insertOrderedList",
                    "indent",
                    "outdent",
                    "createLink",
                    "unlink",
                    "insertImage",
                    "insertFile",
                    "subscript",
                    "superscript",
                    "tableWizard",
                    "createTable",
                    "addRowAbove",
                    "addRowBelow",
                    "addColumnLeft",
                    "addColumnRight",
                    "deleteRow",
                    "deleteColumn",
                    "viewHtml",
                    "formatting",
                    "cleanFormatting",
                    "fontName",
                    "fontSize",
                    "foreColor",
                    "backColor",
                    "print",
                    "pdf",
                    "tableWizard",
                    "createTable",
                    "addRowAbove",
                    "addRowBelow",
                    "addColumnLeft",
                    "addColumnRight",
                    "deleteRow",
                    "deleteColumn",
                    "mergeCellsHorizontally",
                    "mergeCellsVertically",
                    "splitCellHorizontally",
                    "splitCellVertically"
                ],
                pdf: {
                    fileName: "PDFDemoDocument.pdf",
                    proxyURL: "https://demos.telerik.com/kendo-ui/service/export",
                    paperSize: "a4",
                    margin: {
                        bottom: 20,
                        left: 20,
                        right: 20,
                        top: 20
                    }
                },
                stylesheets: [
                    "../content/shared/styles/editor.css",
                ],
                imageBrowser: {
                    messages: {
                        dropFilesHere: "Drop files here"
                    },
                    transport: {
                        read: "/kendo-ui/service/ImageBrowser/Read", //dizin okuyabileceği bir metot verilecek.
                        destroy: {
                            url: "/kendo-ui/service/ImageBrowser/Destroy", //dosya silebileceği bir metot verilecek
                            type: "POST"
                        },
                        create: {
                            url: "/kendo-ui/service/ImageBrowser/Create", //image yükleyebileceği bir metot verilecek
                            type: "POST"
                        },
                        thumbnailUrl: "/kendo-ui/service/ImageBrowser/Thumbnail",
                        uploadUrl: "/kendo-ui/service/ImageBrowser/Upload",
                        imageUrl: "/kendo-ui/service/ImageBrowser/Image?path={0}"
                    }
                },
                fileBrowser: {
                    messages: {
                        dropFilesHere: "Drop files here"
                    },
                    transport: {
                        read: "/kendo-ui/service/FileBrowser/Read", //dosya okuyabileceği bir metot verilecek
                        destroy: {
                            url: "/kendo-ui/service/FileBrowser/Destroy", //dosya silebileceği bir metot verilecek.
                            type: "POST"
                        },
                        create: {
                            url: "/kendo-ui/service/FileBrowser/Create", //dosya oluşturabileceği bir metot verilecek.
                            type: "POST"
                        },
                        uploadUrl: "/kendo-ui/service/FileBrowser/Upload",
                        fileUrl: "/kendo-ui/service/FileBrowser/File?fileName={0}"
                    }
                }

            });

        var editor = $("#editor").data("kendoEditor");

        @{

            IHtmlString headerHtml = Html.Raw(Html.Partial("~/Views/Partial/_PartialHeader.cshtml"));
        }

        var header = @Html.Raw(JsonConvert.SerializeObject(headerHtml.ToHtmlString()));

        var htmlContent = header;
        editor.value(htmlContent);
    });
</script>

