@model List<TDIHKCorporate.Types.MenuItems>
@using System.Globalization

<header>
    <!--Altın Dolar Euro Verileri-->
    <section class="uk-section-muted">
        <div class="market-wrapper">
            <div id="currency">

            </div>
        </div>
    </section>
    <!--Navbar üstü görselleri-->
    <section>
        <!--Mobil Nav-->
        <div class="uk-hidden@m">
            <div class="uk-flex uk-flex-between uk-container nav-overlay-mobile">
                <div class="uk-navbar-left uk-width-expand">
                    <a href="#" class="uk-link-reset uk-width-1-1">
                        <img src="assets/images/tdihk-logo-m.png" alt="">
                    </a>
                </div>
                <!--Mobile Nav Linkleri-->
                <div id="modal-mobile-nav" class="uk-modal-full" uk-modal>
                    <div class="uk-modal-dialog" uk-height-viewport="offset-top: true">
                        <button class="uk-modal-close-full uk-close-large" type="button" uk-close></button>
                        <div class="uk-inline uk-width-1-3 uk-padding-small uk-position-top-left" style="padding-left: 20px;">
                            <a type="button" href="#" class="uk-button uk-padding-remove" style="background: transparent; border: none; width: 55px;"><img src="assets/images/Turkey-icon.png" alt=""></a>
                            <!--Mobil dil dropdown-->
                            <div uk-dropdown="mode: click" class="uk-width-1-3">
                                <ul class="uk-nav uk-dropdown-nav">
                                    <li><a href=""><img src="assets/images/Germany-icon.png" alt=""></a></li>
                                    <li><a href=""><img src="assets/images/USA-icon.png" alt=""></a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="uk-flex-middle uk-flex-center" uk-grid uk-height-viewport="offset-top: true">
                            <div class="uk-padding-large">
                                <ul class="uk-list uk-link-reset uk-nav-default uk-nav-parent-icon mobile-nav-links uk-text-center">

                                    @foreach (TDIHKCorporate.Types.MenuItems item in Model.Where(x => x.IsSubMenu == false).OrderBy(x => x.MenuItemPriority))
                                    {
                                        <li class="uk-h2">
                                            @{
                                                if (item.Language == "tr")
                                                {
                                                    <a href="/@item.PageSeoLink">@item.MenuName</a>

                                                    <div class="uk-navbar-dropdown">
                                                        <ul class="uk-nav uk-navbar-dropdown-nav">

                                                            @foreach (var subMenuItem in Model.Where(x => x.ParentMenuItemID == item.ID && x.IsSubMenu == true && x.MenuLevel == 1).OrderBy(x => x.MenuItemPriority))
                                                            {

                                                                <li class="uk-active">
                                                                    <a href="/@subMenuItem.PageSeoLink">@subMenuItem.MenuName</a>

                                                                </li>

                                                            }
                                                        </ul>
                                                    </div>
                                                }
                                                else if (item.Language == "de")
                                                {
                                                    <a href="/@item.PageSeoLink">@item.MenuName</a>

                                                    <div class="uk-navbar-dropdown">
                                                        <ul class="uk-nav uk-navbar-dropdown-nav">

                                                            @foreach (var subMenuItem in Model.Where(x => x.ParentMenuItemID == item.ID && x.IsSubMenu == true && x.MenuLevel == 1).OrderBy(x => x.MenuItemPriority))
                                                            {

                                                                <li class="uk-active">
                                                                    <a href="/@subMenuItem.PageSeoLink">@subMenuItem.MenuName</a>
                                                                </li>

                                                            }
                                                        </ul>
                                                    </div>
                                                }
                                            }


                                            @* Sub Menuler
                                <ul class="uk-list uk-link-reset uk-text-center uk-h1">
                                @foreach (var secondItem in (Model.Where(s => s.ParentMenuItemID == item.ID && s.IsSubMenu == true).ToList()))
                                {
                                    <li><a href="@secondItem.PageSeoLink">@secondItem.MenuName</a></li>

                                }
                            </ul>*@
                                        </li>


                                    }
                                    @*
                    <li><a href="">@Resources.resource.Hizmetlerimiz</a></li>
                    <li><a href="">@Resources.resource.Uyelik</a></li>
                    <li><a href="">@Resources.resource.Etkinliklerimiz</a></li>
                    <li><a href="">@Resources.resource.Yayinlarimiz</a></li>
                    <li><a href="">@Resources.resource.Covid19</a></li>
                    <li><a href="">@Resources.resource.Hakkimizda</a></li>*@
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>


                @*<div class="uk-navbar-right uk-flex-right uk-text-right">
                        <a class="uk-navbar-toggle uk-icon" uk-search-icon="icon: icn-search"
                           uk-toggle="target: .nav-overlay-mobile; animation: uk-animation-fade" href="#"></a>
                        <div class="uk-inline uk-width-1-3">
                            <a href="~/Home/ChangeLanguage?language=tr" type="button" class="uk-width-1-1 uk-margin-small-left" style="background: transparent; border: none;">
                                <img src="~/Content/MainSite/assets/images/Turkey-icon.png" alt="">
                            </a>
                            <div uk-dropdown="mode: click">
                                <ul class="uk-nav uk-dropdown-nav">
                                    <li><a href="~/Home/ChangeLanguage?language=de"><img src="~/Content/MainSite/assets/images/Germany-icon.png" alt=""></a></li>
                                </ul>
                            </div>
                        </div>
                    </div>*@


                @{
                    CultureInfo cultureInfo = System.Threading.Thread.CurrentThread.CurrentCulture;

                    string name = cultureInfo.TwoLetterISOLanguageName;

                    <div class="uk-navbar-right uk-flex-right uk-text-right">
                        <a class="uk-navbar-toggle uk-icon uk-margin-small-right" uk-search-icon="icon: icn-search"
                           uk-toggle="target: .nav-overlay-mobile; animation: uk-animation-fade" href="#"></a>
                        <div class="uk-inline uk-width-1-3">

                            @if (name == "tr")
                            {
                                <button type="button" onclick="location.href='/Home/ChangeLanguage?language=de'" class="uk-width-1-1" style="background: transparent; border: none;">
                                    <img src="~/Content/MainSite/assets/images/Germany-icon.png" alt="">
                                </button>

                                <div uk-dropdown="mode: click">
                                    <ul class="uk-nav uk-dropdown-nav">
                                        <li>
                                            <a href="~/Home/ChangeLanguage?language=tr" type="button" class="uk-width-1-1" style="background: transparent; border: none;">
                                                <img src="~/Content/MainSite/assets/images/Turkey-icon.png" alt="">
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            }
                            else
                            {
                                <button type="button" onclick="location.href='/Home/ChangeLanguage?language=tr'" class="uk-width-1-1" style="background: transparent; border: none;">
                                    <img src="~/Content/MainSite/assets/images/Turkey-icon.png" alt="">
                                </button>

                                <div uk-dropdown="mode: click">
                                    <ul class="uk-nav uk-dropdown-nav">
                                        <li>
                                            <a href="~/Home/ChangeLanguage?language=de" type="button" class="uk-button uk-padding-remove uk-width-1-1 uk-margin-small-left" style="background: transparent; border: none;">
                                                <img src="~/Content/MainSite/assets/images/Germany-icon.png" alt="">
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            }



                        </div>
                    </div>
                }



            </div>
            <div class="nav-overlay-mobile uk-navbar-left uk-flex-1 uk-container" hidden>

                <div class="uk-navbar-item uk-width-expand">
                    <form class="uk-search uk-search-navbar uk-width-1-1">
                        <input class="uk-search-input" type="search" placeholder="Search..." autofocus>
                    </form>
                </div>

                <a class="uk-navbar-toggle" uk-close uk-toggle="target: .nav-overlay-mobile; animation: uk-animation-fade"
                   href="#"></a>

            </div>
        </div>
        <div class="uk-flex uk-flex-between uk-container">
            <!--Yeni header logo düzeni-->
            <a href="" class="uk-link-reset">
                <div class="uk-visible@m uk-flex uk-flex-middle">
                    <div>
                        <img src="assets/images/tdihk-logo.png" alt="">
                    </div>
                    <div class="uk-flex uk-flex-column uk-margin-small-left">
                        <span class="uk-h3 uk-margin-remove">Türkish Deutsche Industrie- und Handelskammer</span>
                        <span class="uk-h3 uk-margin-remove">Türk-Alman Ticaret ve Sanayi Odası</span>
                    </div>
                </div>
            </a>
            <!--Yeni header logo düzeni sonu-->
            <div>
                <img src="assets/images/TOBB2B LOGO.svg" alt="" class="uk-width-1-1 uk-visible@m" uk-img>
            </div>
        </div>
    </section>
    <!--Navbar-->
    <div class="uk-container">
        <nav class="uk-navbar uk-navbar-container uk-text-bold" uk-navbar>
            <!--Navbar linkleri (masaüstü)-->
            <div class="nav-overlay uk-navbar-left uk-visible@m uk-width-expand">
                <ul class="uk-navbar-nav uk-width-expand uk-flex-between">

                    @foreach (TDIHKCorporate.Types.MenuItems item in Model.Where(x => x.IsSubMenu == false).OrderBy(x => x.MenuItemPriority))
                    {
                        <li>
                            @{
                                if (item.Language == "tr")
                                {
                                    <a href="/@item.PageSeoLink">@item.MenuName</a>

                                    <div class="uk-navbar-dropdown">
                                        <ul class="uk-nav uk-navbar-dropdown-nav">

                                            @foreach (var subMenuItem in Model.Where(x => x.ParentMenuItemID == item.ID && x.IsSubMenu == true && x.MenuLevel == 1).OrderBy(x => x.MenuItemPriority))
                                            {

                                                <li class="uk-active">
                                                    <a href="/@subMenuItem.PageSeoLink">@subMenuItem.MenuName</a>
                                                </li>

                                            }
                                        </ul>
                                    </div>
                                }
                                else if (item.Language == "de")
                                {
                                    <a href="/@item.PageSeoLink">@item.MenuName</a>

                                    <div class="uk-navbar-dropdown">
                                        <ul class="uk-nav uk-navbar-dropdown-nav">

                                            @foreach (var subMenuItem in Model.Where(x => x.ParentMenuItemID == item.ID && x.IsSubMenu == true && x.MenuLevel == 1).OrderBy(x => x.MenuItemPriority))
                                            {

                                                <li class="uk-active">
                                                    <a href="/@subMenuItem.PageSeoLink">@subMenuItem.MenuName</a>
                                                </li>

                                            }
                                        </ul>
                                    </div>
                                }
                            }

                            @* Sub Menuler
                            <ul class="uk-navbar-nav uk-width-expand uk-flex-between">
                            @foreach (var secondItem in (Model.Where(s => s.ParentMenuItemID == item.ID && s.IsSubMenu == true).ToList()))
                            {
                                <li><a href="@secondItem.PageSeoLink">@secondItem.MenuName</a></li>

                            }
                        </ul>*@

                        </li>

                    }

                    @*<li><a href="" class="uk-padding-small-left">@Resources.resource.Hizmetlerimiz</a></li>
                <li><a href="">@Resources.resource.Uyelik</a></li>
                <li><a href="">@Resources.resource.Etkinliklerimiz</a></li>
                <li><a href="">@Resources.resource.Yayinlarimiz</a></li>
                <li><a href="">@Resources.resource.Covid19</a></li>
                <li><a href="">@Resources.resource.Hakkimizda</a></li>*@
                </ul>
            </div>
            <!--Navbar searchbar ve dil-->
            @*<div class="nav-overlay uk-navbar-right uk-visible@m uk-width-auto uk-flex-right uk-text-right">

            <a class="uk-navbar-toggle uk-icon" uk-search-icon="icon: icn-search"
               uk-toggle="target: .nav-overlay; animation: uk-animation-fade" href="#"></a>
            <div class="uk-inline uk-width-1-3">
                <a href="~/Home/ChangeLanguage?language=tr" type="button" class="uk-width-1-1 uk-margin-small-left" style="background: transparent; border: none;"><img src="~/Content/MainSite/assets/images/Turkey-icon.png" alt=""></a>
                <div uk-dropdown="mode: click">
                    <ul class="uk-nav uk-dropdown-nav">
                        <li><a href="~/Home/ChangeLanguage?language=de"><img src="~/Content/MainSite/assets/images/Germany-icon.png" alt=""></a></li>
                    </ul>
                </div>
            </div>
        </div>*@



        <div class="nav-overlay uk-navbar-right uk-visible@m uk-width-auto uk-flex-right uk-text-right">


            @{
                CultureInfo ci = System.Threading.Thread.CurrentThread.CurrentCulture;

                string lang = cultureInfo.TwoLetterISOLanguageName;

                <div class="uk-navbar-right uk-flex-right uk-text-right">
                    <a class="uk-navbar-toggle uk-icon uk-margin-small-right" uk-search-icon="icon: icn-search"
                       uk-toggle="target: .nav-overlay-mobile; animation: uk-animation-fade" href="#"></a>
                    <div class="uk-inline uk-width-1-3">

                        @if (lang == "tr")
                        {
                            <button type="button" onclick="location.href='/Home/ChangeLanguage?language=de'" class="uk-width-1-1 uk-margin-small-left" style="background: transparent; border: none;">
                                <img src="~/Content/MainSite/assets/images/Germany-icon.png" alt="">
                            </button>

                            <div uk-dropdown="mode: click">
                                <ul class="uk-nav uk-dropdown-nav">
                                    <li>
                                        <a href="~/Home/ChangeLanguage?language=tr" type="button" class="uk-width-1-1 uk-margin-small-left" style="background: transparent; border: none;">
                                            <img src="~/Content/MainSite/assets/images/Turkey-icon.png" alt="">
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        }
                        else
                        {
                            <button type="button" onclick="location.href='/Home/ChangeLanguage?language=tr'" class="uk-width-1-1 uk-margin-small-left" style="background: transparent; border: none;">
                                <img src="~/Content/MainSite/assets/images/Turkey-icon.png" alt="">
                            </button>

                            <div uk-dropdown="mode: click">
                                <ul class="uk-nav uk-dropdown-nav">
                                    <li>
                                        <a href="~/Home/ChangeLanguage?language=de" type="button" class="uk-width-1-1 uk-margin-small-left" style="background: transparent; border: none;">
                                            <img src="~/Content/MainSite/assets/images/Germany-icon.png" alt="">
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        }



                    </div>
                </div>
            }
        </div>
            </div>

            <div class="nav-overlay uk-navbar-left uk-flex-1" hidden>

                <div class="uk-navbar-item uk-width-expand">
                    <form class="uk-search uk-search-navbar uk-width-1-1">
                        <input class="uk-search-input" type="search" placeholder="Search..." autofocus>
                    </form>
                </div>

                <a class="uk-navbar-toggle" uk-close uk-toggle="target: .nav-overlay; animation: uk-animation-fade"
                   href="#"></a>

            </div>
        </nav>
        </div>
    </header>
