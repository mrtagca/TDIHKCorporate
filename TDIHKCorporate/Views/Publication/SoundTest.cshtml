@model List<TDIHKCorporate.Types.Podcasts>

@{
    ViewBag.Title = "SoundTest";
    Layout = "~/Views/Shared/_layoutMaster.cshtml";
}

<script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.1/howler.min.js" integrity="sha512-L6Z/YtIPQ7eU3BProP34WGU5yIRk7tNHk7vaC2dB1Vy1atz6wl9mCkTPPZ2Rn1qPr+vY2mZ9odZLdGYuaBk7dQ==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.1/howler.core.min.js" integrity="sha512-wzeZyTAYqFv+VKD/mGwXREXBIzy4pE3E617SBskkLFuYcPQgX6px2Il3gwZwXb9DuyjYPIsbTEO/6c3+mUvoPA==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.1/howler.js" integrity="sha512-J+vDCDlH9TYo4uL0R5g9TCvJj8oGATXWi17AcOyUhuyEbJf0SF5HSmKv1gwPCEowauPanV0RAaYjyU+kbowtQg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.1/howler.spatial.min.js" integrity="sha512-8xfZlXBihYgf8gi0jSdeX3cXlnWCuqwZGx82vcUAcYQ1kuR5VihS1575adZkr5j/SR7d640q1cyfzHtEN2CFVg==" crossorigin="anonymous"></script>

<section>
    <div class="podcast-container">

        @foreach (var item in Model)
        {
            @*<audio data-id="@item.ID" id="audio_@item.ID" autoPlay>
                <source src="@item.PodcastFilePath" type="audio/mpeg">
            </audio>*@

            <div class="uk-grid uk-grid-collapse podcast-wrapper" uk-grid>
                <div class="uk-width-1-4 uk-width-1-6@s uk-flex uk-flex-middle">
                    <span class="uk-preserve uk-margin-small-left podcast-icon uk-icon uk-icon-button" uk-icon="icon: rss; ratio: 1.5"></span>
                </div>
                <div class="uk-width-expand uk-width-1-3@s">
                    <div class="uk-text-large line-height-1 uk-text-bold">@item.PodcastTitle</div>
                    <div class="uk-text-small line-height-1">@item.PodcastDescription</div>
                </div>


                <div class="uk-width-1-1 uk-width-medium@s uk-flex uk-flex-middle uk-flex-right uk-flex-between">
                    <a onclick="prev('audio_@item.ID','audioIcon_prev_@item.ID','btnAudio_prev_@item.ID')" id="btnAudio_prev_@item.ID" class="uk-width-auto uk-width-auto@s uk-flex uk-flex-middle uk-flex-center uk-button uk-button-primary uk-border-rounded color-white" style="height: 42px;">
                        <span class="" id="audioIcon_prev_@item.ID" uk-icon="icon: refresh; ratio: 1.1" style="transform: rotateY(180deg);"></span>
                    </a>
                    <a onclick="playAudio('@item.PodcastFilePath')" id="btnAudio_@item.ID" class="uk-button uk-button-primary uk-border-rounded color-white uk-width-small">
                        <span class="" id="audioIcon_@item.ID">PLAY</span>
                    </a>
                    <a onclick="next('audio_@item.ID','audioIcon_next_@item.ID','btnAudio_next_@item.ID')" id="btnAudio_next_@item.ID" class="uk-width-auto uk-width-auto@s uk-flex uk-flex-middle uk-flex-center uk-button uk-button-primary uk-border-rounded color-white" style="height: 42px">
                        <span class="" id="audioIcon_next_@item.ID" uk-icon="icon: refresh; ratio: 1.1"></span>
                    </a>
                </div>
            </div>
        }

    </div>
</section>

<script>

    function playAudio(filePath) {

        debugger

        var sound = new Howl({
            src: [filePath]
        });

        sound.play();


    }


</script>
